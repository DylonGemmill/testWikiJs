<p>Per monitorare il raid gestito da un controller MPT, copiare il file allegato a questo articolo ed installarlo con il comando&nbsp;</p>
<p><span style="font-family: &#39;courier new&#39;, courier;">rpm -i mpt-status-1.2.0_RC7-3.i386.rpm</span></p>
<p>Assicurarsi che il modulo mptctl venga caricato al boot, per questo seguire la guida&nbsp;<a class="intfaqlink" href="index.php?action=artikel&amp;cat=7&amp;id=9&amp;artlang=it">Caricamento moduli al boot su XenServer 5.5</a>. Nel frattempo per testare il comando, lanciare<br /><span style="font-family: &#39;courier new&#39;, courier;">modprobe mptctl</span>&nbsp;</p>
<p>Qunidi copiare i due script mpt-statusd.sh e mdstat.sh in ~/bin, renderli eseguibili ed in /etc/crontab aggiungere:</p>
<p><span style="font-family: &#39;courier new&#39;, courier;"># YetOpen - situazione RAID</span><br /><span style="font-family: &#39;courier new&#39;, courier;"># settimanale</span><br /><span style="font-family: &#39;courier new&#39;, courier;">32 3 * * 0 &nbsp; &nbsp; &nbsp;root &nbsp; &nbsp;/root/bin/mdstat.sh</span><br /><span style="font-family: &#39;courier new&#39;, courier;"># ogni 2h</span><br /><span style="font-family: &#39;courier new&#39;, courier;">32 */2 * * * &nbsp; &nbsp;root &nbsp; &nbsp;/root/bin/mpt-statusd.sh</span></p>
<p>Verificare con il comando<br /><span style="font-family: &#39;courier new&#39;, courier;">mpt-status -p</span><br />l&#39;id del controller MPT, e modificare i due script (la variabile <em><strong>ID</strong></em> in <em>mpt-statusd.sh</em> e <strong><em>mptstatus -i 1</em></strong> in <em>mdstat.sh</em>) con il valore corretto.&nbsp;</p>