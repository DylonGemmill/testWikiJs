<p>Procedure:<br /> create /sbin/mount.curl containing:<br /> <code>#!/bin/bash</code><br /><code> curlftpfs $1 $2 -o allow_other,disable_eprt</code><br /> <br /> <br /> create /sbin/umount.curl containing:<br /> <code>#!/bin/bash</code><br /><code> fusermount -u $1</code><br /><br /> make both created *.curl files executable<br /> <br /> add /mnt/ftp /etc/autofs/auto.ftp --ghost <br /> to /etc/autofs/auto.master<br /> <br /> create /etc/autofs/auto.ftp file containing:<br /> <br /> <code>myFTP -fstype=curl,allow_other :ftp\://USER\:PASSWORD\@MACHINE/</code><br /> <br /> Note: Your passwords are plainly visible for anyone that can run df (only for mounted servers) or view the file /etc/autofs/auto.ftp.<br /> If you want slightly more security you can create the file ~root/.netrc and add the passwords there. Passwords are still plain text, but you can have mode 600, and df command will not show them (mounted or not). This method is also less sensitive to special characters (that else must be escaped) in the passwords. The format is:<br /> <br /> <code>machine remoteserver </code><br /><code> login myuser</code><br /><code> password mypassword</code></p>
<p>The line in /etc/autofs/auto.ftp looks like this without user and password:<br /> <br /> <code>servername -fstype=curl,allow_other :ftp\://remoteserver</code><br /><br /> http://lukaszproszek.blogspot.com/2008/05/automounting-ftpfs-using-curlftpfs-and.html<br /> https://wiki.archlinux.org/index.php/Autofs#FTP_and_SSH_.28with_FUSE.29</p>