<p>Se in un nostro progetto dobbiamo usare i sorgenti reperibili da un repository Git esterno, possiamo usare i <em>submodule</em>. In pratica diciamo a git che quella directory non far&agrave; parte dei sorgenti locali ma dovr&agrave; essere reperita da un repo esterno.</p>
<p>Ci posizioniamo nella directory principale del progetto e lanciamo</p>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">git submodule add -b yetopen git://mail.ufficyo.com/yii.git www/yii</pre>
<p>In questo caso stiamo creando la sottodirectory <em>www/yii</em> che contiene il branch <em>yetopen</em>&nbsp;del progetto <em>yii.git</em>. L&#39;opzione <em><strong>-b</strong></em>&nbsp;&egrave; opzionale, se omessa verr&agrave; prelevato il branch <em>master</em>.</p>
<p>I sorgenti presenti in quella directory saranno fermi all&#39;attuale checkout. In caso di nuovi commit sul progetto principale gli aggiornamenti non verranno scaricati in automatico, ma solo in seguito ad esplicita richiesta.</p>
<p>Per aggiornare il submodule usiamo il comando</p>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">git submodule update</pre>
<p>Per reperire gli aggiornamenti da tutti i submodule dichiarati nel progetto dobbiamo eseguire il comando</p>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">git submodule foreach git pull</pre>
<p>Se desideriamo switchare banch o tag di un submodule ci posizioniamo nella sua sottodirectory e lanciamo i comandi standard di git, quindi&nbsp;</p>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">git checkout secondobranch
git commit -a -m "Spostato il submodule TIZIO al branch secondobranch
git push</pre>
<p>Quando si effettuer&agrave; il clone del repo, il submodule non si scaricher&agrave; in automatico. Per prelevarlo, entrare nella directory appena clonata e lanciare</p>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">git submodule init
git submodule update</pre>