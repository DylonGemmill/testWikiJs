<p>Scenario: gestione ecommerce con Joomla e VirtueMart.</p>
<p> </p>
<p>Capita a volte di far lavorare i clienti su un&#39;installazione di test per l&#39;inserimento e l&#39;ogranizzazione dei prodotti per poi</p>
<p>portare gli inserimenti effettuati sul sito in produzione.</p>
<p>Nel caso in cui il sito in produzione non sia ancora stato pubblicato sarà necessario spostare l&#39;intero sito, operazione "one way" abbastanza semplice per esempio col componente Akeeba Backup.</p>
<p> </p>
<p>Nel caso in cui abbiamo invece il sito già in produzione, gli step principali sono:<br />1. creare una copia del sito, che chiameremo sviluppo<br />2. far lavorare il cliente in sviluppo<br />3. portare le modifiche effettuate dal cliente in produzione</p>
<p> </p>
<p>Prima di procedere occorre verificare che la logica dell&#39;applicazione non porti ad una perdita di dati durante la copia delle modifiche in produzione. Dobbiamo infatti tenere a mente che mentre il cliente lavora in sviluppo, in produzione il sito continuerà a funzionare.<br />Nel nostro caso il cliente è l&#39;unico ad accedere ad entrambi gli ambienti per le modifiche e sa che deve agire solamente in sviluppo per quanto riguarda l&#39;organizzazione dei prodotti. In questo modo l&#39;applicazione delle modifiche sarà a senso unico, in quanto i dati dei prodotti in produzione saranno obsoleti e verranno rimpiazzati da quelli in sviluppo.<br />L&#39;applicazione, inoltre, memorizza i dati in set di tabelle separate che permettono il caricamento dei soli dati riguardanti i prodotti senza condizionare altri dati, come per esempio gli ordini, che sono da lasciare invariati perché più recenti in produzione (durante le modifiche possono infatti esserci stati acquisti).<br />Le tabelle che abbiamo individuato per l&#39;aggiornamento dei prodotti sono:</p>
<p><span>#__virtuemart_calcs</span></p>
<p><span>#__virtuemart_calc_categories</span></p>
<p><span>#__virtuemart_calc_countries</span></p>
<p><span>#__virtuemart_calc_manufacturers</span></p>
<p><span>#__virtuemart_calc_shoppergroups</span></p>
<p><span>#__virtuemart_calc_states</span><br />#__virtuemart_categories<br />#__virtuemart_categories_it_it<br />#__virtuemart_category_categories<br />#__virtuemart_category_medias<br />#__virtuemart_customs<br />#__virtuemart_manufacturercategories<br />#__virtuemart_manufacturercategories_it_it<br />#__virtuemart_manufacturers<br />#__virtuemart_manufacturers_it_it<br />#__virtuemart_manufacturer_medias<br />#__virtuemart_medias<br />#__virtuemart_products<br />#__virtuemart_product_it_it<br />#__virtuemart_product_categories<br />#__virtuemart_product_customfields<br />#__virtuemart_product_downloads<br />#__virtuemart_product_manufacturers<br />#__virtuemart_product_medias<br />#__virtuemart_product_prices<br />#__virtuemart_product_relations<br />#__virtuemart_product_shoppergroups</p>
<p> </p>
<p>Bisogna infine tenere conto che tra i dati dei prodotti sono presenti anche i file immagini relativi, che non sono presenti nel database e andranno copiate a parte. La cartelle dove VirtueMart va a memorizzarle si trovano in Configurazione &gt; Modelli &gt; Configurazione dei file media.<br />I valori predefiniti per tali cartelle sono:<br />images/stories/virtuemart/category/<br />images/stories/virtuemart/product/<br />images/stories/virtuemart/manufacturer/<br />images/stories/virtuemart/vendor/</p>