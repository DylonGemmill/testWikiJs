<p>Virtuemart 2 non permette di effettuare questa operazione da solo, occorre appoggiarsi ad un componente esterno.</p>
<p>Per questo scopo ho trovato due componenti:</p>
<ul>
<li>CSV Advanced<br /><a href="http://joomdonation.com/index.php?option=com_content&amp;view=article&amp;id=110&amp;Itemid=136">http://joomdonation.com/index.php?option=com_content&amp;view=article&amp;id=110&amp;Itemid=136</a> </li>
<li>CSV Improved<br /><a href="http://www.csvimproved.com/index.php?option=com_content&amp;view=article&amp;id=848:csvi-pro-4-4-release&amp;catid=179:news&amp;Itemid=101">http://www.csvimproved.com/index.php?option=com_content&amp;view=article&amp;id=848:csvi-pro-4-4-release&amp;catid=179:news&amp;Itemid=101</a></li>
</ul>
<div>Il primo è a pagamento e non l&#39;ho potuto testare.</div>
<div>Presupponiamo che il file da caricare sia un file di testo csv del tipo</div>
<div>
<pre class="brush: bash;fontsize: 100; first-line: 1; ">G01|10
G01-01|0
G01-02|0
G01-03|0
G02|76
G03|32
G04|98
H01|32
H02|500
L01|22
L02|0
L03|0
P01|45
P02|33
P03|3
P04|552
</pre>
</div>
<p>dove ogni riga rappresenta un prodotto ed è composta da <strong>codice_sku|quantità </strong>e il carattere | (pipe) fa da separatore.</p>
<h2>CSV Improved</h2>
<p>Scaricare il componente allegato alla FAQ.</p>
<p>Potete anche controllare se è presente una versione più aggiornata sul sito e scaricare quella, al momento siamo alla versione 4.2_free (occorre essere registrati per scaricare).</p>
<p>Installare il componente come qualsiasi componente di joomla (si suppone che Virtuemart 2.x sia già installato).</p>
<p>Andare in <strong>Componenti &gt; CSVI &gt; Available fields</strong> ed aggiornare l&#39;elenco dei campi con il pulsante <strong>Update</strong>. Questa operazione è fondamentale, altrimenti non troviamo in elenco i campi <strong>product_sku</strong> e <strong>product_in_stock</strong> che ci servono.</p>
<p>Ora occorre andare a definire un processo di importazione: andare in <strong>Componenti &gt; CSVI &gt; Process</strong>.</p>
<p>Alla voce <strong>Manual Import/Export</strong> selezionare <strong>Impot</strong>, <strong>Virtuemart</strong>, <strong>Product Import</strong> e cliccare su <strong>Go</strong>.</p>
<p>Si apre la schermata per definire un nuovo processo di tale tipo, nella scheda <strong>File</strong> impostare la voce <strong>Auto detect delimiters</strong> a <strong>No</strong>, in questo modo vediamo comparire due ulteriori opzioni, a noi interessa <strong>Field Delimiter</strong>, che imposteremo a <strong>| (pipe)</strong>.</p>
<p>Nella scheda <strong>Fields</strong> selezionare il campo <strong>product_sku</strong> e confermare la scelta con il pulsante <strong>+ (più)</strong>: il campo selezionato comparirà in elenco. Effettuare la stessa operazione per il campo <strong>product_in_stock</strong>.</p>
<p>Fate particolarmente attezione all&#39;ordine utilizzato per aggiungere i campi: deve essere lo stesso dei valori presenti su ogni riga.</p>
<p>A questo punto è buona cosa salvare il processo assegnandogli un nome, in modo da poterlo richiamare quando ci servirà ancora. Selezionare quindi il pulsante in alto <strong>Save as new</strong> e assegnare un nome al processo (esempio <strong>Aggiornamento Magazzino Virtuemart</strong>). Ora è possibile richiamare le impostazioni selezionate in qualunque momento selezionando <strong>Aggiornamento Magazzino Virtuemart</strong> dal menu a tendina apposito e selezionando <strong>Load</strong>.</p>
<p>Per importare l&#39;elenco, assicurarsi che <strong>Aggiornamento Magazzino Virtuemart</strong> sia selezionato, dopodichè selezionare il file CSV sul proprio computer per mezzo dell&#39;opzione <strong>Load from computer</strong>. Avviare quindi l&#39;importazione per mezzo del pulsante <strong>Process</strong> posto in alto a destra.</p>
<p> </p>
<h2>Troubleshooting</h2>
<p>Se l&#39;importazione dà errore controllare la sintassi del file CSV.</p>
<p>Se la prima riga del file CSV non contiene i dati ma la descrizione dei campi, assicurarsi che l&#39;opzione <strong>Skip first line </strong>della scheda <strong>File</strong> sia impostata su <strong>Sì</strong>.</p>
<p>Ogni volta che si effettuano modifiche alle impostazioni, per salvarle nel profilo corrente occorre utilizzare il pulsante <strong>Apply</strong> posto in alto.</p>