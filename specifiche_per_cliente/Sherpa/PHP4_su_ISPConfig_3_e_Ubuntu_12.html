<p><a href="http://www.howtoforge.com/how-to-use-php-4.4.9-fastcgi-with-apache-and-ispconfig-3-debian-wheezy">http://www.howtoforge.com/how-to-use-php-4.4.9-fastcgi-with-apache-and-ispconfig-3-debian-wheezy</a></p>
<p> </p>
<p>A diffrenza dell&#39;howto manca di installare il pacchetto libmcrypt-dev e rimuovere --with-imap --with-imap-ssl dalle opzioni di configurazione.</p>
<p> </p>
<h2 style="padding: 0px 0px 0.1em; margin: 1em 0px 0.2em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; font-family: arial, verdana, sans-serif; font-weight: 400; font-size: 19px; color: #000000; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">How To Use PHP 4.4.9 (FastCGI) With Apache &amp; ISPConfig 3 (Debian Wheezy)</h2>
<div style="padding: 0px; margin: 0px; border: 0px; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"> </div>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Version 1.0<span class="Apple-converted-space"> </span><br style="padding: 0px; margin: 0px;" />Author: Falko Timme &lt;ft [at] falkotimme [dot] com&gt;<br style="padding: 0px; margin: 0px;" /><a style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://twitter.com/falko" target="_blank"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/socialmedia/twitter.png" alt="" width="16" height="16" border="0" /></a><span class="Apple-converted-space"> </span><a style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://twitter.com/falko" target="_blank">Follow me on Twitter</a><br style="padding: 0px; margin: 0px;" />Last edited 06/18/2013</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Since ISPConfig 3.0.5, it is possible to use multiple PHP versions on one server and select the optimal PHP version for a website. If you have some very old websites on your server, they might not work with PHP5, but only with PHP4. This tutorial shows how to build PHP 4.4.9 as a FastCGI version for use with Apache2 on a Debian Wheezy server. This PHP version can be used together with the default PHP (installed through apt) in ISPConfig.</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">I do not issue any guarantee that this will work for you!</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"> </p>
<h3 style="padding: 0px 0px 0.2em; margin: 1em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; font-family: arial, verdana, sans-serif; font-size: 14px; font-weight: bold; color: #000000; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">1 Preliminary Note</h3>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">PHP-FPM is not available for PHP4, therefore I just describe how to build a FastCGI version of PHP4. FastCGI is available only for Apache servers, therefore you cannot use it with nginx..</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"> </p>
<h3 style="padding: 0px 0px 0.2em; margin: 1em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; font-family: arial, verdana, sans-serif; font-size: 14px; font-weight: bold; color: #000000; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">2 Building PHP 4.4.9 (FastCGI)</h3>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Install the prerequisites for building from source code:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">apt-get install build-essential</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">PHP 4.4.9 will not compile with modern OpenSSL versions, therefore we need to install an older OpenSSL version (0.9.8x) first:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">cd /tmp<br style="padding: 0px; margin: 0px;" />wget http://www.openssl.org/source/openssl-0.9.8x.tar.gz<br style="padding: 0px; margin: 0px;" />tar xvfz openssl-0.9.8x.tar.gz<br style="padding: 0px; margin: 0px;" />cd openssl-0.9.8x<br style="padding: 0px; margin: 0px;" />./config --prefix=/usr/local/openssl-0.9.8<br style="padding: 0px; margin: 0px;" />make<br style="padding: 0px; margin: 0px;" />make install</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Download and extract PHP 4.4.9:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">mkdir /opt/phpfcgi-4.4.9<br style="padding: 0px; margin: 0px;" />mkdir /usr/local/src/php4-build<br style="padding: 0px; margin: 0px;" />cd /usr/local/src/php4-build<br style="padding: 0px; margin: 0px;" />wget http://de.php.net/get/php-4.4.9.tar.bz2/from/this/mirror -O php-4.4.9.tar.bz2<br style="padding: 0px; margin: 0px;" />tar jxf php-4.4.9.tar.bz2</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">cd php-4.4.9/</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Create some necessary symlinks:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">ln -s /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib/<br style="padding: 0px; margin: 0px;" />ln -s /usr/lib/x86_64-linux-gnu/libpng.so /usr/lib/<br style="padding: 0px; margin: 0px;" />ln -s /usr/lib/x86_64-linux-gnu/libmysqlclient.so.18 /usr/lib/<br style="padding: 0px; margin: 0px;" />ln -s /usr/lib/x86_64-linux-gnu/libexpat.so /usr/lib/<br style="padding: 0px; margin: 0px;" />ln -s /usr/lib/x86_64-linux-gnu/libmysqlclient.so /usr/lib/libmysqlclient.so<br style="padding: 0px; margin: 0px;" />mkdir /usr/kerberos<br style="padding: 0px; margin: 0px;" />ln -s /usr/lib/x86_64-linux-gnu /usr/kerberos/lib</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Next we must disable the functions<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">mysql_drop_db</span><span class="Apple-converted-space"> </span>and<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">mysql_create_db</span><span class="Apple-converted-space"> </span>because otherwise you will get these errors when you try to build PHP 4.4.9:</p>
<p class="system" style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">error: undefined reference to &#39;mysql_drop_db&#39;<br style="padding: 0px; margin: 0px;" />error: undefined reference to &#39;mysql_create_db&#39;</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Open<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">/usr/local/src/php4-build/php-4.4.9/ext/mysql/php_mysql.c</span>...</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">vi /usr/local/src/php4-build/php-4.4.9/ext/mysql/php_mysql.c</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">... and go to line 1131. From there on, comment out both functions:</p>
<table style="padding: 0px; margin: 0px 0px 1em; border-collapse: collapse; border: 1px solid #ffffff; background-color: #ffffff; color: #000000; font-family: verdana,sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; width: 90%;" border="1" cellspacing="0" cellpadding="2" align="center" bgcolor="#CCCCCC">
<tbody style="padding: 0px; margin: 0px;">
<tr style="padding: 0px; margin: 0px;">
<td style="padding: 2px; margin: 0px; vertical-align: top; font-size: 11px;">
<pre style="padding: 6px; margin: 0px; background-color: #efefef; border: 1px inset; width: 500px; height: 250px; overflow: auto; font-size: 16px;">[...]
/*PHP_FUNCTION(mysql_create_db)
{
        zval **db, **mysql_link;
        int id;
        php_mysql_conn *mysql;

        switch(ZEND_NUM_ARGS()) {
                case 1:
                        if (zend_get_parameters_ex(1, &amp;db)==FAILURE) {
                                RETURN_FALSE;
                        }
                        id = php_mysql_get_default_link(INTERNAL_FUNCTION_PARAM_PASSTHRU);
                        CHECK_LINK(id);
                        break;
                case 2:
                        if (zend_get_parameters_ex(2, &amp;db, &amp;mysql_link)==FAILURE) {
                                RETURN_FALSE;
                        }
                        id = -1;
                        break;
                default:
                        WRONG_PARAM_COUNT;
                        break;
        }

        php_error_docref(NULL TSRMLS_CC, E_NOTICE, "This function is deprecated, please use mysql_query() to issue a SQL CREATE DATABASE statement instead.");

        ZEND_FETCH_RESOURCE2(mysql, php_mysql_conn *, mysql_link, id, "MySQL-Link", le_link, le_plink);

        PHPMY_UNBUFFERED_QUERY_CHECK();

        convert_to_string_ex(db);

        if (mysql_create_db(&amp;mysql-&gt;conn, Z_STRVAL_PP(db))==0) {
                RETURN_TRUE;
        } else {
                RETURN_FALSE;
        }
}*/
/* }}} */

/* {{{ proto bool mysql_drop_db(string database_name [, int link_identifier])
   Drops (delete) a MySQL database */
/*PHP_FUNCTION(mysql_drop_db)
{
        zval **db, **mysql_link;
        int id;
        php_mysql_conn *mysql;

        switch(ZEND_NUM_ARGS()) {
                case 1:
                        if (zend_get_parameters_ex(1, &amp;db)==FAILURE) {
                                RETURN_FALSE;
                        }
                        id = php_mysql_get_default_link(INTERNAL_FUNCTION_PARAM_PASSTHRU);
                        CHECK_LINK(id);
                        break;
                case 2:
                        if (zend_get_parameters_ex(2, &amp;db, &amp;mysql_link)==FAILURE) {
                                RETURN_FALSE;
                        }
                        id = -1;
                        break;
                default:
                        WRONG_PARAM_COUNT;
                        break;
        }

        php_error_docref(NULL TSRMLS_CC, E_NOTICE, "This function is deprecated, please use mysql_query() to issue a SQL DROP DATABASE statement instead.");


        ZEND_FETCH_RESOURCE2(mysql, php_mysql_conn *, mysql_link, id, "MySQL-Link", le_link, le_plink);

        convert_to_string_ex(db);

        if (mysql_drop_db(&amp;mysql-&gt;conn, Z_STRVAL_PP(db))==0) {
                RETURN_TRUE;
        } else {
                RETURN_FALSE;
        }
}*/
/* }}} */
[...]</pre>
</td>
</tr>
</tbody>
</table>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Install the prerequisites for building PHP5 (in our case this also covers the prerequisites for building PHP4):</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">apt-get build-dep php5</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Configure and build PHP 4.4.9 as follows (you can adjust the<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">./configure</span><span class="Apple-converted-space"> </span>command to your needs, take a look at</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">./configure --help</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">to see all available options; if you use a different<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">./configure</span><span class="Apple-converted-space"> </span>command, it is possible that additional libraries are required, or the build process will fail):</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">./configure \<br style="padding: 0px; margin: 0px;" />--prefix=/opt/phpfcgi-4.4.9 \<br style="padding: 0px; margin: 0px;" />--with-pdo-pgsql \<br style="padding: 0px; margin: 0px;" />--with-zlib-dir \<br style="padding: 0px; margin: 0px;" />--with-freetype-dir \<br style="padding: 0px; margin: 0px;" />--enable-mbstring \<br style="padding: 0px; margin: 0px;" />--with-libxml-dir=/usr \<br style="padding: 0px; margin: 0px;" />--enable-soap \<br style="padding: 0px; margin: 0px;" />--enable-calendar \<br style="padding: 0px; margin: 0px;" />--with-curl \<br style="padding: 0px; margin: 0px;" />--with-mcrypt \<br style="padding: 0px; margin: 0px;" />--with-zlib \<br style="padding: 0px; margin: 0px;" />--with-gd \<br style="padding: 0px; margin: 0px;" />--with-pgsql \<br style="padding: 0px; margin: 0px;" />--disable-rpath \<br style="padding: 0px; margin: 0px;" />--enable-inline-optimization \<br style="padding: 0px; margin: 0px;" />--with-bz2 \<br style="padding: 0px; margin: 0px;" />--with-zlib \<br style="padding: 0px; margin: 0px;" />--enable-sockets \<br style="padding: 0px; margin: 0px;" />--enable-sysvsem \<br style="padding: 0px; margin: 0px;" />--enable-sysvshm \<br style="padding: 0px; margin: 0px;" />--enable-pcntl \<br style="padding: 0px; margin: 0px;" />--enable-mbregex \<br style="padding: 0px; margin: 0px;" />--with-mhash \<br style="padding: 0px; margin: 0px;" />--enable-zip \<br style="padding: 0px; margin: 0px;" />--with-pcre-regex \<br style="padding: 0px; margin: 0px;" />--with-mysql=/usr \<br style="padding: 0px; margin: 0px;" />--with-mysql-sock=/var/run/mysqld/mysqld.sock \<br style="padding: 0px; margin: 0px;" />--with-jpeg-dir=/usr \<br style="padding: 0px; margin: 0px;" />--with-png-dir=/usr \<br style="padding: 0px; margin: 0px;" />--enable-gd-native-ttf \<br style="padding: 0px; margin: 0px;" />--with-openssl=/usr/local/openssl-0.9.8 \<br style="padding: 0px; margin: 0px;" />--with-openssl-dir=/usr/local/openssl-0.9.8 \<br style="padding: 0px; margin: 0px;" />--with-libdir=/lib/x86_64-linux-gnu \<br style="padding: 0px; margin: 0px;" />--enable-ftp \<br style="padding: 0px; margin: 0px;" />--with-imap \<br style="padding: 0px; margin: 0px;" />--with-imap-ssl \<br style="padding: 0px; margin: 0px;" />--with-kerberos \<br style="padding: 0px; margin: 0px;" />--with-gettext \<br style="padding: 0px; margin: 0px;" />--with-expat-dir=/usr \<br style="padding: 0px; margin: 0px;" />--enable-fastcgi</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">The last switch (<span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">--enable-fastcgi</span>) makes sure this PHP version will work with FastCGI.</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">make<br style="padding: 0px; margin: 0px;" />make install</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Copy<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">php.ini</span><span class="Apple-converted-space"> </span>to the correct location:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">cp /usr/local/src/php4-build/php-4.4.9/php.ini-recommended /opt/phpfcgi-4.4.9/lib/php.ini</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">That&#39;s it - we will now add the APC module to our PHP 4.4.9 installation:</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">cd /tmp<br style="padding: 0px; margin: 0px;" />wget http://pecl.php.net/get/APC-3.0.19.tgz<br style="padding: 0px; margin: 0px;" />tar xvfz APC-3.0.19.tgz<br style="padding: 0px; margin: 0px;" />cd APC-3.0.19<br style="padding: 0px; margin: 0px;" />/opt/phpfcgi-4.4.9/bin/phpize<br style="padding: 0px; margin: 0px;" />./configure --enable-apc --enable-apc-mmap --with-php-config=/opt/phpfcgi-4.4.9/bin/php-config<br style="padding: 0px; margin: 0px;" />make<br style="padding: 0px; margin: 0px;" />make install</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Afterwards, open<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">/opt/phpfcgi-4.4.9/lib/php.ini</span>...</p>
<p class="command" style="padding: 1em; margin: 0px 0px 0.8em; border: 1px dashed #2f6fab; color: #000000; background-color: #f9f9f9; line-height: 1.1em; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px;">vi /opt/phpfcgi-4.4.9/lib/php.ini</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">... and set<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">extension_dir = "/opt/phpfcgi-4.4.9/lib/php/extensions/no-debug-non-zts-20020429"</span><span class="Apple-converted-space"> </span>and add the line<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">extension=apc.so</span><span class="Apple-converted-space"> </span>at the end of the file (you can also configure some additional APC settings):</p>
<table style="padding: 0px; margin: 0px 0px 1em; border-collapse: collapse; border: 1px solid #ffffff; background-color: #ffffff; color: #000000; font-family: verdana,sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; word-spacing: 0px; width: 90%;" border="1" cellspacing="0" cellpadding="2" align="center" bgcolor="#CCCCCC">
<tbody style="padding: 0px; margin: 0px;">
<tr style="padding: 0px; margin: 0px;">
<td style="padding: 2px; margin: 0px; vertical-align: top; font-size: 11px;">
<pre style="padding: 6px; margin: 0px; background-color: #efefef; border: 1px inset; width: 500px; height: 250px; overflow: auto; font-size: 16px;">[...]
extension_dir = "/opt/phpfcgi-4.4.9/lib/php/extensions/no-debug-non-zts-20020429"
[...]
extension=apc.so
apc.enabled=1
apc.shm_segments=1
apc.shm_size=512
apc.ttl=0
apc.user_ttl=600
apc.gc_ttl=600
apc.enable_cli=1
apc.mmap_file_mask=/tmp/apc.XXXXXX
;apc.mmap_file_mask=/dev/zero
;apc.shm_segments = 5</pre>
</td>
</tr>
</tbody>
</table>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">In ISPConfig 3.0.5, you can configure the new PHP version under<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">System &gt; Additional PHP Versions</span>. On the<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">Name</span><span class="Apple-converted-space"> </span>tab, you just fill in a name for the PHP version (e.g.<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">PHP 4.4.9</span>) - this PHP version will be listed under this name in the website settings in ISPConfig:</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a class="thickbox" style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/big/1.png"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/1.png" alt="" width="550" height="399" /></a></p>
<div style="padding: 0px; margin: 0px; border: 0px; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a class="thickbox" style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/big/1.png"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/click_to_enlarge.png" alt="Click to enlarge" width="100" height="12" border="0" /></a></div>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">Go to the<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">FastCGI Settings</span><span class="Apple-converted-space"> </span>tab (the<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">PHP-FPM Settings</span><span class="Apple-converted-space"> </span>tab can be left empty) and fill out the fields as follows:</p>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a class="thickbox" style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/big/2.png"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/2.png" alt="" width="550" height="399" /></a></p>
<div style="padding: 0px; margin: 0px; border: 0px; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a class="thickbox" style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/big/2.png"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/click_to_enlarge.png" alt="Click to enlarge" width="100" height="12" border="0" /></a></div>
<p style="padding: 0px; margin: 0px 0px 0.8em; color: #000000; font-family: verdana, sans-serif; font-size: 12px; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;">If everything is working as expected, you can now choose PHP 4.4.9 for a website in ISPConfig. You can check the PHP version of a website by creating a PHP file with the<span class="Apple-converted-space"> </span><span class="system" style="padding: 0px; margin: 0px; color: black; font-family: &#39;Courier New&#39;, Courier, mono; font-size: 12px; font-style: italic;">phpinfo();</span><span class="Apple-converted-space"> </span>function in it and calling that file in your browser:</p>
<h3 style="padding: 0px 0px 0.2em; margin: 1em 0px 0px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: #cccccc; font-family: arial, verdana, sans-serif; font-size: 14px; font-weight: bold; color: #000000; font-style: normal; font-variant: normal; letter-spacing: normal; line-height: 18px; orphans: auto; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: #ffffff;"><a class="thickbox" style="padding: 0px; margin: 0px; color: #003399; text-decoration: underline;" href="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/big/3.png"><img style="padding: 0px; margin: 0px; border: 0px;" src="http://static.howtoforge.com/images/php_4.4.9_fastcgi_debian_wheezy/3.png" alt="" width="550" height="399" /></a></h3>